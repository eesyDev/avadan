{"version":3,"file":"main.js","sources":["main.js"],"sourcesContent":["jQuery(function($){\r\n  const $wrap = $('.map__wrapper');\r\n  const svg   = $wrap.find('svg')[0];\r\n\r\n  // Собираем ключи из карточек в порядке показа\r\n  const keys = $('.map__card').map(function(){ return $(this).data('key'); }).get();\r\n\r\n  console.log(keys)\r\n  let autoIdx = 0, autoTimer = null, isPaused = false;\r\n\r\n  // Позиционируем карточки возле соответствующих пинов\r\n  function positionCards(){\r\n    if($wrap && $wrap[0]) {  const wrapRect = $wrap[0].getBoundingClientRect();\r\n    $('.map__card').each(function(){\r\n      const key = $(this).data('key');\r\n      const node = svg.querySelector('.pin[data-key=\"'+key+'\"]');\r\n      if(!node) return;\r\n      const bb = node.getBoundingClientRect();\r\n      const x = bb.left + bb.width/2 - wrapRect.left;\r\n      const y = bb.top  - wrapRect.top;\r\n      // позиция сверху и немного левее центра пина\r\n      $(this).css({ left: x+'px', top: y+'px' });\r\n    });\r\n  }\r\n  }\r\n\r\n  function clearActive(){\r\n    $('.map__card').removeClass('is-visible');\r\n    $(svg).find('.region, .pin').removeClass('is-active');\r\n  }\r\n\r\n  function showByKey(key){\r\n    clearActive();\r\n    $('.map__card[data-key=\"'+key+'\"]').addClass('is-visible');\r\n    const $region = $(svg).find('.region[data-key=\"'+key+'\"]');\r\n    const $pin    = $(svg).find('.pin[data-key=\"'+key+'\"]');\r\n    $region.addClass('is-active');\r\n    $pin.addClass('is-active');\r\n  }\r\n\r\n  function startAutoplay(){\r\n    stopAutoplay();\r\n    autoTimer = setInterval(function(){\r\n      if(isPaused || keys.length === 0) return;\r\n      showByKey(keys[autoIdx]);\r\n      autoIdx = (autoIdx + 1) % keys.length;\r\n    }, 1800); // скорость \"вспышек\"\r\n  }\r\n\r\n  function stopAutoplay(){\r\n    if(autoTimer){ clearInterval(autoTimer); autoTimer = null; }\r\n  }\r\n\r\n  // Наведение по региону или пину: показываем нужную карточку и паузим автоплей\r\n  $(svg).on('mouseenter touchstart', '.region, .pin', function(){\r\n    isPaused = true;\r\n    const key = $(this).data('key');\r\n    if(key) showByKey(key);\r\n  });\r\n\r\n  // Ушли курсором со svg — продолжаем автопоказ\r\n  $(svg).on('mouseleave touchend', function(){\r\n    isPaused = false;\r\n  });\r\n\r\n  // Клик по пину/региону — фиксируем карточку до следующего ухода мыши\r\n  $(svg).on('click', '.region, .pin', function(){\r\n    const key = $(this).data('key');\r\n    if(key){\r\n      stopAutoplay();\r\n      showByKey(key);\r\n    }\r\n  });\r\n\r\n  // Восстановить автоплей при уходе мыши с обёртки\r\n  $wrap.on('mouseleave', function(){\r\n    isPaused = false;\r\n    startAutoplay();\r\n  });\r\n\r\n  // Дебаунс-resize для корректной привязки позиций\r\n  let rAF;\r\n  function onResize(){ \r\n    cancelAnimationFrame(rAF);\r\n    rAF = requestAnimationFrame(positionCards);\r\n  }\r\n  $(window).on('load resize', onResize);\r\n\r\n  // Инициализация\r\n  positionCards();\r\n  showByKey(keys[0]);  // начальный показ первой карточки\r\n  startAutoplay();\r\n\r\n\r\n   \r\n\r\n  $('.gallery-slider').slick({\r\n    centerMode: true,\r\n    centerPadding: '0',\r\n    slidesToShow: 5,   // показываем 5 слайдов\r\n    infinite: true,\r\n    arrows: true,\r\n    dots: true\r\n  });\r\n\r\n  $('.director-slider').slick({\r\n    centerMode: true,\r\n    centerPadding: '0',\r\n    slidesToShow: 1,  \r\n    infinite: true,\r\n    autoplay: true,\r\n    arrows: false,\r\n    dots: true\r\n  });\r\n  $('.invite__slider').slick({\r\n    centerMode: true,\r\n    centerPadding: '0',\r\n    slidesToShow: 1,  \r\n    infinite: true,\r\n    // dots: true,\r\n    arrows: true,\r\n  });\r\n\r\n  $('.team-slider').slick({\r\n    centerMode: true,\r\n    centerPadding: '0',\r\n    slidesToShow: 2,  \r\n    infinite: true,\r\n    // dots: true,\r\n    arrows: true,\r\n  });\r\n\r\n  $('.team-reviews-slider').slick({\r\n    dots: true,\r\n    arrows: true,\r\n    infinite: true,\r\n    speed: 300,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    adaptiveHeight: false,\r\n    prevArrow: '<button class=\"slick-prev team-prev\">❮</button>',\r\n    nextArrow: '<button class=\"slick-next team-next\">❯</button>',\r\n});\r\n\r\n\r\n  $(document).ready(function() {\r\n      // Обработчик клика по заголовкам секций\r\n      $('.filter-header').on('click', function() {\r\n          $(this).parent().toggleClass('collapsed');\r\n      });\r\n\r\n      // Добавляем обработчики для чекбоксов\r\n      $('input[type=\"checkbox\"]').on('change', function() {\r\n          console.log(`${this.id}: ${this.checked}`);\r\n      });\r\n  });\r\n\r\n   // Переключение аккордеона\r\n   $('.faq-question').click(function() {\r\n    const $item = $(this).closest('.faq-item');\r\n    const $answer = $item.find('.faq-answer');\r\n    \r\n    if ($item.hasClass('active')) {\r\n        // Закрываем активный элемент\r\n        $answer.slideUp(300);\r\n        $item.removeClass('active');\r\n    } else {\r\n        // Закрываем все остальные элементы\r\n        $('.faq-item.active .faq-answer').slideUp(300);\r\n        $('.faq-item.active').removeClass('active');\r\n        \r\n        // Открываем выбранный элемент\r\n        $answer.slideDown(300);\r\n        $item.addClass('active');\r\n    }\r\n});\r\n\r\n    // Кнопка закрытия\r\n    $('.close-button').click(function() {\r\n        $(this).closest('.faq-container').fadeOut(300);\r\n    });\r\n\r\n    // Плавная анимация при загрузке\r\n    $('.faq-item').each(function(index) {\r\n        $(this).css({\r\n            'opacity': '0',\r\n            'transform': 'translateY(20px)'\r\n        }).delay(index * 100).animate({\r\n            'opacity': '1',\r\n            'transform': 'translateY(0)'\r\n        }, 500);\r\n    });\r\n});\r\n\r\n// const gallerySwiper = new Swiper('.gallery__slider', {\r\n//   centeredSlides: true,\r\n//   slidesPerView: 3, // показываем 5 слайдов (1 активный + по 2 с каждой стороны)\r\n//   spaceBetween: -150,\r\n//   loop: true,\r\n\r\n//   navigation: {\r\n//     nextEl: '.gallery__slider .swiper-button-next',\r\n//     prevEl: '.gallery__slider .swiper-button-prev',\r\n//   },\r\n  \r\n//   breakpoints: {\r\n//     320: {\r\n//       slidesPerView: 1.5,\r\n//       // spaceBetween: 10\r\n//     },\r\n//     768: {\r\n//       slidesPerView: 3,\r\n//       // spaceBetween: 15\r\n//     },\r\n//     1024: {\r\n//       slidesPerView: 5,\r\n//       // spaceBetween: 20\r\n//     }\r\n//   },\r\n  \r\n\r\n// });\r\n\r\n\r\n"],"names":["jQuery","$","$wrap","svg","find","keys","map","this","data","get","autoIdx","console","log","autoTimer","isPaused","positionCards","wrapRect","getBoundingClientRect","each","x","key","node","querySelector","bb","left","width","y","top","css","showByKey","removeClass","addClass","$region","$pin","startAutoplay","stopAutoplay","setInterval","length","clearInterval","on","let","rAF","window","cancelAnimationFrame","requestAnimationFrame","slick","centerMode","centerPadding","slidesToShow","infinite","arrows","dots","autoplay","speed","slidesToScroll","adaptiveHeight","prevArrow","nextArrow","document","ready","parent","toggleClass","id","checked","click","$item","closest","$answer","hasClass","slideUp","slideDown","fadeOut","index","opacity","transform","delay","animate"],"mappings":"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"}